# ============================================
# Utah Valley Tool Rental V3 - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control!

# ============================================
# DATABASE (Supabase PostgreSQL)
# ============================================
# Get these from Supabase Dashboard > Project Settings > Database
# Connection pooler URL (used by app at runtime)
DATABASE_URL="postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-us-west-1.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct connection URL (used by Prisma migrations)
DIRECT_URL="postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-us-west-1.compute.amazonaws.com:5432/postgres"

# ============================================
# SUPABASE (Auth & Storage)
# ============================================
# Get these from Supabase Dashboard > Project Settings > API
NEXT_PUBLIC_SUPABASE_URL="https://[PROJECT-REF].supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." # Public anon key (safe for client)
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." # Secret service role key (server-side only)

# ============================================
# STRIPE (Payment Processing)
# ============================================
# Get these from Stripe Dashboard > Developers > API Keys
# Start with TEST keys, switch to LIVE keys before production
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..." # Test publishable key (safe for client)
STRIPE_SECRET_KEY="sk_test_..." # Test secret key (server-side only)

# Webhook signing secret (get this after creating webhook endpoint)
# Stripe Dashboard > Developers > Webhooks > Add endpoint
# Endpoint URL will be: https://your-domain.com/api/webhooks/stripe
STRIPE_WEBHOOK_SECRET="whsec_..." # Leave blank until Phase 3 deployment

# ============================================
# IGLOOHOME (Smart Lock Access Codes)
# ============================================
# Get these from Igloohome Developer Portal (https://developer.igloohome.co)
# Contact Igloohome support if you don't have API access yet
IGLOOHOME_API_KEY="your_api_key_here"
IGLOOHOME_API_SECRET="your_api_secret_here"
IGLOOHOME_BASE_URL="https://api.igloohome.co" # Use sandbox URL for testing if available

# Your physical padlock's unique identifier (get from Igloohome app or API)
IGLOOHOME_LOCK_ID="your_lock_id_here" # Single lock ID for V3 (all tools share this)

# ============================================
# RESEND (Email Delivery)
# ============================================
# Get API key from Resend Dashboard (https://resend.com)
# 1. Sign up at resend.com
# 2. Add and verify your domain (or use Resend's test domain)
# 3. Generate API key
RESEND_API_KEY="re_..." # API key from Resend dashboard
RESEND_FROM_EMAIL="bookings@utahvalleytoolrental.com" # Must be verified domain or use test: onboarding@resend.dev

# ============================================
# APPLICATION CONFIGURATION
# ============================================
# Your application's public URL (no trailing slash)
NEXT_PUBLIC_APP_URL="http://localhost:3000" # Development
# NEXT_PUBLIC_APP_URL="https://utahvalleytoolrental.com" # Production (update before deploying)

# Business information (displayed in emails and footer)
BUSINESS_NAME="Utah Valley Tool Rental"
BUSINESS_LOCATION="123 Main St, Provo, UT 84601" # Update with your actual address
BUSINESS_PHONE="+1234567890" # Update with your actual phone (E.164 format: +1...)
BUSINESS_EMAIL="info@utahvalleytoolrental.com" # Customer service email

# ============================================
# OPTIONAL / DEVELOPMENT
# ============================================
# Node environment (automatically set by Next.js, but can override)
# NODE_ENV="development" # development | production | test

# Enable detailed Prisma query logs (helpful for debugging)
# PRISMA_QUERY_LOG="true"

# Timezone for rental periods (defaults to America/Denver for Utah)
TZ="America/Denver"
